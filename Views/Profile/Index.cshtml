@model BookWyrm.ViewModels.ProfileIndexViewModel
@{
    ViewBag.Title = "Index";
}

<h2>@Model.Name</h2>
<div class="active-challenge">
    <h3>Active Challenge</h3>
    @if (Model.ActiveChallenge == null)
    {
        <p>You don't have an active challenge. Pick a random one?</p>
    }
    else
    {
        <div>
            @Html.Partial("_ChallengeDetails")
        </div>
    }
</div>

<div class="badges">
    <h3>Completed Challenges</h3>
    @if (Model.CompletedChallenges.Count == 0)
    {
        <p>You haven't completed any reading challenges yet</p>
    }
    else
    {
        <div>
            @foreach (var challenge in Model.CompletedChallenges)
            {
                <div>
                    @if (challenge.Icon == null)
                    {
                        <img src="~/Content/default-book.svg" class="badge-icon" />
                    }
                    else
                    {
                        <img src="challenge.Icon" class="badge-icon" />
                    }
                    <h5>@challenge.Name</h5>
                    @using(Html.BeginForm(FormMethod.Post))
                    {
                        @Html.Hidden("Id", challenge.Id)
                        <input type="submit" value="X" formaction="/RemoveChallenge" />
                    }
                </div>
            }
        </div>
    }
</div>

